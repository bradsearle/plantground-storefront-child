@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

/* ============================================== */
/* 0. UTILITY CLASSES */
/* ============================================== */

/* Shared Utility Class (Toggled by JavaScript) */
.hidden {
  display: none !important;
}

/* ============================================== */
/* 1. CORE LAYOUT AND FIXED CONTAINER */
/* ============================================== */

/* Main Fixed Container (The actual fixed navigation bar) */
.nav__flex {
  position: fixed;
  top: 0;
  left: 0;
  // background-color: #00a562;
  width: 100%;
  /* NOTE: Z-index needs to be addressed for fullscreen menu */
  z-index: 1000;
  transform: translateY(0);
  transition: transform 0.5s ease;
}
.nav__flex-container {
  @include container;
  padding: 20px 20px 0 20px;
}

/* Container for Logo, Links, Actions */
.nav__wrap {
  display: flex;
  justify-content: space-between;
  @include type;
  background-color: #fff;
}
.nav__links {
  display: flex;
  margin-left: 3.75rem;
  align-items: center;
}
.nav__link {
  @include clean-link;
}
.nav__right {
  display: flex;
  margin-left: auto; // This pushes element 1 and 2 to the left and 3 to the right
}

/* Full navigation hide state (for scroll-down hiding) */
nav.hidden {
  transform: translateY(-100%);
}

/* Mobile menu toggle container (Hidden on desktop) */
.nav__menu {
  display: none;
}

/* === Nav Grid and Logo (Desktop) === */
.nav__grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
}

.nav__flex-inner {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 22px;
}

/* ============================================== */
/* 2. COMPONENT: INFO BAR */
/* ============================================== */

.nav__info-bar {
  width: 100%;
  height: 30px;
  // background-color: darken($brand-green, 5%);
  // background-color: #006a3e;
  background-color: #00a562;
  color: #fff;
  font-family: 'Space Mono', monospace;
  font-size: 0.6875rem;
  text-transform: uppercase;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1001;
  pointer-events: auto;
  transition: transform 0.3s ease;
  transform: translateY(0);

  &__message {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.7s ease-in-out;
    white-space: nowrap;
    pointer-events: none;
    z-index: 1;

    &.visible {
      opacity: 1;
      pointer-events: auto;
      z-index: 10;
    }

    &.hidden {
      opacity: 0;
      pointer-events: none;
      z-index: 1;
    }
  }
}

/* === Ship Date Styling === */
.ship-date {
  color: #ff0;
}

/* ============================================== */
/* 3. COMPONENT: ACTIONS (Logo & Cart) */
/* ============================================== */

// .nav__actions {
//   display: flex;
//   align-items: center;
//   gap: 16px;
//   position: relative;
// }

.nav__logo {
  font-size: 1.1rem;
  font-weight: 700;
  color: #000;
  @include type;
  display: flex;

  a,
  a:visited,
  a:link {
    color: #000;
    text-decoration: none;
  }
}
.nav__cart-copy {
  display: flex;
}

.nav__cart {
  display: inline-flex;
  position: relative;
}
.nav__cart-title {
  display: block;
}
// Fix the link color â€” this controls the SVG via currentColor
.cart-link,
.cart-link:link,
.cart-link:visited {
  color: #000; // or your nav text color
  text-decoration: none;
}

/* === Cart Count === */
.cart-link {
  position: relative;
  text-decoration: none !important;
  border: none;
  outline: none;
}

.cart-count {
  color: #000;
  font-size: 13px;
  padding: 0 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

@media (min-width: 768px) {
  .cart__img {
    display: none;
  }
}

/* ============================================== */
/* 4. COMPONENT: MOBILE MENU TOGGLE BUTTON */
/* ============================================== */

.menu-toggle {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;

  outline: none;
  box-shadow: none;

  position: relative;
  width: 24px;
  height: 24px;
  color: #000;
}

.menu-toggle__icon {
  position: absolute;
  top: 0;
  left: 0;
  display: block;
}

/* ============================================== */
/* 5. MEDIA QUERIES (Mobile Overrides) */
/* ============================================== */

@media (max-width: 768px) {
  .nav__cart-copy {
    display: none;
  }
  .nav__right {
    display: flex;
    min-width: 50px;
    justify-content: flex-end; /* This pushes all child elements to the right */

    margin-left: unset; // This pushes element 1 and 2 to the left and 3 to the right
  }
  .nav__links {
    display: none;
  }
  .cart__img {
    text-decoration: none !important;
    border: none;
    outline: none;
  }

  .nav__menu {
    display: flex;
    min-width: 50px;
  }
  .nav__link {
    display: none;
  }
  .nav__cart-title {
    display: none;
  }
  .nav__info-bar {
    font-size: 0.8875rem;
    height: 32px;
  }
  .nav__grid {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .nav__wrap {
    padding: 22px 12px;
    display: flex;
    align-items: center; // Vertical centering
    width: 100%;
  }

  .nav__logo {
    display: block;
    margin: auto;
    transform: none;
    opacity: 1 !important;

    a,
    a:visited {
      color: #000;
      text-decoration: none;
    }
  }

  .nav__flex {
    height: auto;
    align-items: center;
    justify-content: center;
  }

  .menu__btn {
    display: flex;
    align-items: flex-start;
  }

  .nav__cart {
    position: relative;
    display: flex;
  }
}
