@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

/* ============================================== */
/* 0. UTILITY CLASSES */
/* ============================================== */

/* Shared Utility Class (Toggled by JavaScript) */
.hidden {
  display: none !important;
}

/* ============================================== */
/* 1. CORE LAYOUT AND FIXED CONTAINER */
/* ============================================== */

/* Main Fixed Container (The actual fixed navigation bar) */
#menu-toggle {
  display: none;
}
.nav__flex {
  position: fixed;
  top: 40px !important; // Locked
  left: 0;
  width: 100%;
  z-index: 1000;
  will-change: transform;
  transition: none !important;
  transition: none !important; // Prevent CSS from fighting GSAP
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);

  // When we scroll up, GSAP will add this class via JS or we just handle it via GSAP transforms
  &.is-sticky {
    position: fixed;
    top: 0;
  }
}

.nav__flex-container {
  @include container;
}

/* Container for Logo, Links, Actions */
.nav__wrap {
  display: flex;
  justify-content: space-between;
  @include type;
}
.nav__links {
  display: flex;
  margin-left: 3.75rem;
  align-items: center;
}
.nav__link {
  @include clean-link;
}
.nav__right {
  display: flex;
  // margin-left: auto; // This pushes element 1 and 2 to the left and 3 to the right
}

/* Full navigation hide state (for scroll-down hiding) */
nav.hidden {
  transform: translateY(-100%);
}

/* Mobile menu toggle container (Hidden on desktop) */

/* === Nav Grid and Logo (Desktop) === */
.nav__grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
}

.nav__flex-inner {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 22px;
}

.nav__logo {
  font-weight: 700;
  color: #000 !important;

  @include type;
  display: flex;

  @include clean-link;
}
.nav__cart-copy {
  display: flex;
  margin-left: 6px;
  a {
    text-decoration: none;
    color: inherit; // Keeps it the same color as the surrounding text

    &:hover {
      // opacity: 0.7;
    }
  }
}

.nav__cart {
  display: inline-flex;
  position: relative;
}
.nav__cart-title {
  display: block;
}
// Fix the link color â€” this controls the SVG via currentColor
.cart-link,
.cart-link:link,
.cart-link:visited {
  color: #000; // or your nav text color
  text-decoration: none;
}

/* === Cart Count === */
.cart-link {
  position: relative;
  text-decoration: none !important;
  border: none;
  outline: none;
}

.cart-count {
  color: #000;
  font-size: 13px;
  padding: 0 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

@media (min-width: 768px) {
  .cart__img {
    display: none;
  }
}

/* ============================================== */
/* 5. MEDIA QUERIES (Mobile Overrides) */
/* ============================================== */

@media (max-width: 768px) {
  /* ============================================== */
  /* 4. COMPONENT: MOBILE MENU TOGGLE BUTTON */
  /* ============================================== */
  #menu-toggle {
    display: flex;
  }

  .menu-toggle {
    display: block;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;

    outline: none;
    box-shadow: none;

    position: relative;
    width: 24px;
    height: 24px;
    color: #000;
  }

  .menu-toggle__icon {
    position: absolute;
    top: 0;
    left: 0;
    display: block;
  }

  // .nav__logo-desktop {
  //   display: none;
  // }
  .nav__cart-copy {
    display: none;
  }
  .nav__right {
    display: flex;
    min-width: 50px;
    justify-content: flex-end; /* This pushes all child elements to the right */

    margin-left: unset; // This pushes element 1 and 2 to the left and 3 to the right
  }
  .nav__links {
    display: none;
  }
  .cart__img {
    text-decoration: none !important;
    border: none;
    outline: none;
  }

  .nav__menu {
    display: flex;
    min-width: 50px;
  }
  .nav__link {
    display: none;
  }
  .nav__cart-title {
    display: none;
  }

  .nav__grid {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .nav__wrap {
    padding: 22px 12px;
    display: flex;
    align-items: center; // Vertical centering
    width: 100%;
    font-size: 0.945rem;
  }

  .nav__logo {
    display: block;
    margin: auto;
    transform: none;
    opacity: 1 !important;
    margin-left: 8px;

    a,
    a:visited {
      color: #000;
      text-decoration: none;
    }
  }

  .nav__flex {
    height: auto;
    align-items: center;
    justify-content: center;
  }

  .menu__btn {
    display: flex;
    align-items: flex-start;
  }

  .nav__cart {
    position: relative;
    display: flex;
  }
}
